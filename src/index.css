/*
 * File: src/index.css
 * Purpose: Global Tailwind layers, base resets, and Markade theme utilities (fonts, colors, a11y helpers).
 * Update Log:
 * - 2025-08-12: Added mk- prefixed text-color utilities to avoid collision with Tailwind font-family utilities. Kept legacy classes in place for now. — Assistant
 */
@import "./assets/fonts/fonts.css";
/* Tailwind CSS layers for base, components, and utilities — Markade clean slate */
/* --- Updated: 2025-08-07 — Remove radial gradients, use solid midnight background via theme token --- */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Keep global resets in Tailwind's base layer */
@layer base {
  *, *::before, *::after { box-sizing: border-box; }

  html, body, #root { min-height: 100%; }

  html {
    -webkit-text-size-adjust: 100%;
    color-scheme: dark;
  }

  body {
    /* Use theme token from tailwind.config.js */
    @apply font-market text-white bg-background antialiased;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    -webkit-tap-highlight-color: transparent;
  }

  :focus {
    outline: none;
  }

  :focus-visible {
    @apply ring-2 ring-neonBlue ring-offset-2 ring-offset-background;
  }

  ::selection {
    background: rgba(255, 215, 0, 0.25);
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *:not([data-allow-motion]) {
      animation-duration: 0.001ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.001ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* iOS safe-areas (used by .safe-area utility) */
  :root {
    --safe-top: env(safe-area-inset-top);
    --safe-right: env(safe-area-inset-right);
    --safe-bottom: env(safe-area-inset-bottom);
    --safe-left: env(safe-area-inset-left);
  }
}

@layer utilities {
  /* Optional color-only helpers (use when you want to color text without changing fonts) */
  .mk-text-arcade { @apply text-primary; }        /* Orange text for arcade display elements */
  .mk-text-arcade-bold { @apply text-casinoYellow; } /* Casino yellow for punchy display text */
  .mk-text-market { @apply text-white; }          /* Default market/body text color */
  .mk-text-arcade-active { @apply text-neonBlue; }   /* Active state accent */

  .font-arcade { @apply text-primary; } /* Orange */

  .font-market { @apply text-white; }

  /* Accessibility: visually hidden but still in DOM */
  .visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }

  /* Crisp sprite rendering */
  .pixelated {
    image-rendering: pixelated;
    image-rendering: crisp-edges;
    -ms-interpolation-mode: nearest-neighbor;
  }

  /* Pad for notches/home bar when needed */
  .safe-area {
    padding-top: var(--safe-top);
    padding-right: var(--safe-right);
    padding-bottom: var(--safe-bottom);
    padding-left: var(--safe-left);
  }

  /* Tappable: minimum comfortable hit target */
  .tappable {
    min-height: 44px;
    @apply px-3 flex items-center;
  }

  /* Only show hover styles on devices that hover */
  @media (hover: hover) and (pointer: fine) {
    .hover-only\:underline:hover { text-decoration: underline; }
  }

  /* Full-height sections that play nice with mobile keyboards */
  .min-h-dvh { min-height: 100dvh; }

  /* Default: any arcade + bold text renders yellow */
  .font-arcade.font-bold { @apply text-casinoYellow tracking-tight; }

  /* Reusable display helper for big arcade headings */
  .mk-arcade-display { @apply font-arcade font-bold !text-casinoYellow leading-none; }
}